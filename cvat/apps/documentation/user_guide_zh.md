# 依瞳数据标注平台

[依瞳数据标注平台](#依瞳数据标注平台)
[1. 入门](#1-入门)
	[1.1. 登录认证](#11-登录认证)
	[1.2. 管理面板](#12-管理面板)
	[1.3. 创建标注任务](#13-创建标注任务)
		[1.3.1. 点击创建标注任务](#131-点击创建标注任务)
		[1.3.2. 指定任务参数](#132-指定任务参数)
			[1.3.2.1. 基本配置](#1321-基本配置)
			[1.3.2.2. 高级配置](#1322-高级配置)
		[1.3.3. 列表页](#133-列表页)
		[1.3.4. 详情页](#134-详情页)
		[1.3.5. 开始标注作业](#135-开始标注作业)
	[1.4. 模型页](#14-模型页)
	[1.5. 搜索](#15-搜索)
[2. 标注工具的界面](#2-标注工具的界面)
	[2.1. 基本导航](#21-基本导航)
	[2.2. 形状类型](#22-形状类型)
	[2.3. 形状模式（基础）](#23-形状模式（基础）)
	[2.4. 轨迹模式（基础）](#24-轨迹模式（基础）)
	[2.5. 属性标注模式（基础）](#25-属性标注模式（基础）)
	[2.6. 导出标注](#26-导出标注)
	[2.7. 名词解释](#27-名词解释)
	[2.8. 工作空间](#28-工作空间)
	[2.9. 设置](#29-设置)
	[2.10. 顶部面板](#210-顶部面板)
		[2.10.1. 操作菜单](#2101-操作菜单)
		[2.10.2. 保存](#2102-保存)
		[2.10.3. 撤销/重做](#2103-撤销重做)
		[2.10.4. 播放器](#2104-播放器)
		[2.10.5. 全屏](#2105-全屏)
		[2.10.6. 信息](#2106-信息)
		[2.10.7. 切换UI界面](#2107-切换UI界面)
	[2.11. 侧边栏控件](#211-侧边栏控件)
	[2.12. 对象侧边栏](#212-对象侧边栏)
		[2.13.1. 对象](#2131-对象)
		[2.13.2. 标注](#2132-标注)
		[2.13.3. 外观](#2133-外观)
[3. 形状模式（高级）](#3-形状模式（高级）)
[4. 轨迹模式（高级）](#4-轨迹模式（高级）)
[5. 属性标注模式（高级）](#5-属性标注模式（高级）)
[6. AI工具](#6-ai工具)
	[6.1 辅助标注](#61-辅助标注)
	[6.2 自动标注](#62-自动标注)
	[6.3 目标跟踪](#63-目标跟踪)
[7. 矩形标注](#7-矩形标注)
	[7.1 矩形两点标注](#71-矩形两点标注)
	[7.2 矩形四点标注](#72-矩形四点标注)
[8. 多边形标注](#8-多边形标注)
	[8.1. 手工绘制](#81-手工绘制)
	[8.2. 自动勾边](#82-自动勾边)
	[8.3. 编辑多边形](#83-编辑多边形)
[9. 多段线标注](#9-多段线标注)
[10. 点标注](#10-点标注)
	[10.1. 点标注形状模式](#101-点标注形状模式)
	[10.2. 点标注线性插值](#102-点标注线性插值)
[11. 长方体标注](#11-长方体标注)
	[11.1. 创建长方体](#111-创建长方体)
		[11.1.1. 四点绘制长方体](#1111-四点绘制长方体)
		[11.1.2. 基于矩形绘制长方体](#1112-基于矩形绘制长方体)
	[11.2. 编辑长方体](#112-编辑长方体)
[12. 标记标注](#12-标记标注)
[13. 多边形轨迹模式](#13-多边形轨迹模式)
[14. 自动标注](#14-自动标注)
[15. 形状分组](#15-形状分组)
[16. 条件筛选](#16-条件筛选)
[17. 快捷键](#17-快捷键)



## 1. 入门

依瞳数据标注平台软件是用于标注数字图像和视频的工具平台。用户无需安装应用，只需要在浏览器中打开网址即可使用。平台满足多种标注场景类型，比如图像标注、视频标注、文字标注、语音标注、自动驾驶标注等。平台拥有丰富的标注工具，比如点标注、线标注、面标注、长方体标注、标记标注等，并且支持多种格式的标注文件导入和导出。平台预置了多个辅助标注和自动标注模型，可以对标注数据集进行自动标注或辅助标注，极大提高标注效率。



### 1.1. 登录认证

登录到依瞳数据标注平台。

![image-20201104112728490](依瞳数据标注平台.assets/image-20201104112728490.png)

点击“创建一个账号”可注册账号。

创建一个非管理员账号，如下图所示。

![image-20201104112842741](依瞳数据标注平台.assets/image-20201104112842741.png)

默认情况下，新注册账号没有查看任务列表的权限。可以创建一个超级用户，超级用户可以使用Django管理面板为用户分配组，以便拥有对应的权限。平台的用户所属组有：管理员、用户、标注员、审核员。

创建一个管理帐户的命令：

```
docker exec -it cvat bash -ic '/usr/bin/python3 ~/manage.py createsuperuser'
```



### 1.2. 管理面板

在 [Django 管理面板](http://localhost:8080/admin)能够：

- 创建、编辑、删除用户
- 控制用户和对工具访问的权限。

![](依瞳数据标注平台.assets/20200921172957917_31091.jpg)

### 1.3. 创建标注任务

#### 1.3.1. 点击创建标注任务

![image-20201118141810528](依瞳数据标注平台.assets/image-20201118141810528.png)



#### 1.3.2. 指定任务参数


##### 1.3.2.1. 基本配置

填写要创建的任务名称。

![image-20201118143910835](依瞳数据标注平台.assets/image-20201118143910835.png)

设置任务标签，有”构造器“和”原生JSON"两种设置方式。

**构造器**

---

“构造器”是添加和调整标签的简单方法，单击“添加标签”按钮即可添加标签。

![image-20201118143754196](依瞳数据标注平台.assets/image-20201118143754196.png)

在“标签名称”字段中设置标签的名称。

![image-20201118143715179](依瞳数据标注平台.assets/image-20201118143715179.png)

点击“添加属性”来设置标签的属性，需要设置：

- 属性名称
- 属性显示类型（下拉框、单选框、复选框、文本、数值）
- 属性值——属性值可填写多个，可通过按 “回车” 来分隔多个属性值，按 ”回退“ 或者关闭按钮（x）来删除属性值。如果属性的显示格式指定为文本或数值，输入的值默认会以文本格式显示。
- 是否勾选”可变的“复选框——勾选后，属性将逐帧更改。

设置属性后，单击（x）可删除属性，点击“继续”按钮可添加更多标签，也可以点击“撤销”按钮取消添加标签。 

添加所有标签后，单击“完成”按钮，添加的标签将显示为不同颜色的单独元素。 添加标签成功后，可通过单击“更新属性”或“删除标签”来编辑或删除标签。

![image-20201118143600406](依瞳数据标注平台.assets/image-20201118143600406.png)

**原生JSON**

---

“原生JSON”是高级用户使用标签的一种方式，标签的原始数据以json格式显示，可以编辑标签和复制为文本。 

点击“完成”按钮应用更改，点击“重置”按钮取消更改。

![image-20201118143257627](依瞳数据标注平台.assets/image-20201118143257627.png)

在“原生JSON”和“构造器”模式下，都可以单击“复制”按钮复制标签列表。

**选择文件**

---

选择文件有3种方式：

- 点击“我的电脑” 选项卡，从本地电脑中选择一些文件进行标注。
- 点击“连接的文件共享”选项卡，从服务器共享目录选择要标注的文件。 
- 点击“远程源”选项卡，会出现一个文本框，可在其中输入URL列表（每行一个URL）。

![image-20201118143001422](依瞳数据标注平台.assets/image-20201118143001422.png)

##### 1.3.2.2. 高级配置

![image-20201118143038863](依瞳数据标注平台.assets/image-20201118143038863.png)

**使用zip块**：强制使用zip块压缩数据。仅对视频有效。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       

**使用缓存**：使用缓存存储数据。

**图片质量**：此选项可以指定上传图像的质量，有助于更快地加载高分辨率数据集。 值必须是在 5（几乎完全压缩的图像）和 100（非压缩图像）范围内。

**重叠大小**：使用此选项可以生成重叠段，从而保证轨迹在不同分段之间的连续性。将其用于插值模式。使用该参数有几个选项：

- 针对插值任务（视频序列）。如果在两个相邻段上标注边界框，它们将合并为一个边界框。如果重叠值为0或在导出的标注文件中相邻段之间标注质量比较差，则会得到多个轨迹（即每个段对应一个轨迹）。
- 针对标注任务（独立图像）。 如果一个对象存在于重叠的分段上，重叠大于0，并且相邻分段上的标注足够好，它将自动合并为一个对象。 如果重叠值为0或在导出的标注文件中相邻段之间标注质量较差，则同一对象将会有多个边界框。 因此，可以在第一个段上标注一个对象。 在第二个段上标注相同的对象，如果操作正确，不同的标注间将有一个轨迹。 如果不同段（重叠帧组）上的标注非常不同，则同一对象将具有两种形状。 此功能仅适用于边界框。多边形、多段线、点是不支持对重叠段进行自动合并的，即使重叠参数不为0，并且相邻段上对应形状之间的匹配也很完美。

**段大小**：使用此选项可将一个大的数据集划分为几个较小的段。 例如，一个作业不能由多个标注员进行标注（不支持）。 因此，使用“段大小”可以为同一标注任务创建多个作业，从而并行地进行数据标注。

**起始帧**：任务中视频开始的帧。

**终止帧**。 任务中视频结束的帧。

**帧步长**。 使用此选项可过滤视频帧。 例如，输入“ 25”可在视频中或图像中每隔25帧保留一张。

**块大小**。 定义从客户端发送到服务器时要打包成块的帧数。 如果为空，将由服务器自动定义。

- 建议值：
  - 小于1080p: 36
  - 小于2k: 8 - 16
  - 小于4k: 4 - 8
  - 大于4k: 1 - 4

**数据集仓库**：仓库的URL链接可以指定存储库的路径（默认值: `annotation / <dump_file_name> .zip`）。 支持`.zip`和`.xml`文件扩展名的标注。 字段格式为：`URL [PATH]` ，例如：`https://github.com/project/repos.git [1/2/3/4 / annotation.xml]`

- 支持如下URL格式：
  - `https://github.com/project/repos[.git]`
  - `github.com/project/repos[.git]`
  - `git@github.com:project/repos[.git]`
- 如果标注没有与存储库同步，则任务在创建后将以红色高亮显示。

**使用LFS**：如果标注文件过大，可以使用git LFS

**问题跟踪**：将问题跟踪附加到任务描述的位置。

点击“提交”按钮，创建的任务会添加到标注任务列表中，如下图所示：

![image-20201104152505152](依瞳数据标注平台.assets/image-20201104152505152.png)



#### 1.3.3. 列表页

列表页中的任务按创建顺序排序。列表页中包含：任务名称、预览图、进度条、“打开”按钮和“操作”菜单。

![image-20201118170041963](依瞳数据标注平台.assets/image-20201118170041963.png)

“操作” 菜单包含的功能：

- 导出标注
- 上传标注
- 导出数据集
- 自动标注
- 删除

**导出标注与导出数据集**

---

“导出标注”和“导出数据集”支持的格式有：

- COCO
- CVAT for images：如果任务具有标注模式，则高亮显示。
- CVAT for video：如果任务具有插值模式，则高亮显示。
- Datumaro
- LabelMe 3.0
- MOT
- MOTS PNG
- PASCAL VOC
- Segmentation mask：压缩包包含png格式的每个帧的类和实例掩码，以及一个包含每个颜色值的文本文件。
- TFRecord
- YOLO

**上传标注**

---

上传标注格式与导出标注格式相同。

标注平台同时支持视频和图像格式。

**自动标注**

---

平台中使用OpenVINO工具箱来进行自动标注，效果取决于您如何构建数据标注实例。

**删除**

---

点击“删除”按钮可删除任务。

**打开**

---

点击“打开”按钮可跳转到任务详情页面。



#### 1.3.4. 详情页

任务详情页包含预览，进度条以及在创建任务时指定的详细信息和作业部分。

![image-20201118170759836](依瞳数据标注平台.assets/image-20201118170759836.png)

详情页中可进行一下操作：

1. 更改任务的标题。
2. 打开 `操作` 菜单
3. 打开或编辑问题跟踪链接（如果已指定）。
4. 更改标签：可以在原生JSON模式或构造器模式下添加新标签或为现有标签添加属性。 单击“复制”，可以将标签复制到剪贴板。
5. 分配给：用于将任务分配给一个人，通过输入执行人的用户名或者从下拉列表中选择合适的人。

**作业**

---

作业列表中包含以下数据：

- 作业名称及其超链接。
- 帧：帧间隔。
- 状态：作业的状态，用户在作业内的菜单中指定状态。 状态分为三种：标注中，验证中或已完成。 作业状态的变化也会在任务的进度条上反映出来。
- 开始时间：作业的开始时间。
- 时长：作业的工作时间。
- 执行人：执行这项工作的用户，可直接输入执行人的用户名或者从下拉列表中选择合适的人。

通过单击“复制”，可将作业列表（包含作业的直接链接）复制到剪贴板中。

#### 1.3.5. 开始标注作业

在”作业“列表里，点击作业链接就可以跳转到标注页面进行标注了。

![image-20201118173526600](依瞳数据标注平台.assets/image-20201118173526600.png)

在某些情况下，可以具有多个链接，这取决于任务的大小以及“重叠大小”和“分段大小”。 为了改善用户体验，仅加载第一个分块包含的几帧，此时可以标注第一张图像。其他帧将在后台加载。

![image-20201118104723932](依瞳数据标注平台.assets/image-20201118104723932.png)



### 1.4. 模型页

点击导航栏中的”模型“菜单，打开模型页面。该页面包含一系列的深度学习模型，用于半自动标注和自动标注。

![image-20201118174035890](依瞳数据标注平台.assets/image-20201118174035890.png)

 “模型”页面包含所有现有模型的相关信息，模型列表包含的信息：

- 每个模型都是一个单独的项。 它包含模型的名称，模型所基于的框架和“支持的标签”。

![image-20201104165638636](依瞳数据标注平台.assets/image-20201104165638636.png)



### 1.5. 搜索

搜索任务的方式有以下几种：

- 搜索所有字段（所有者，执行人，任务名称，任务状态，任务模式）。 在搜索字框输入搜索字符串，回车。

- 搜索特定字段，可参考下面示例：
  - `owner：admin` ：搜索名称中带有子字符串“admin”的用户创建的所有任务
  - `assignee: employee` ：搜索所有分配给名字包含“employee”的用户的任务
  - `name: mighty` ：搜索任务名称中带有“mighty”字符串的所有任务
  - `mode: annotation` / `mode: interpolation` ：搜索所有包含图片 / 视频的任务。
  - `status: annotation`  / `status: validation`  / `status: completed` ：搜索状态为 标注中 / 验证中 / 已完成 的所有任务
  - `id: 5` ：搜索任务id为5的任务 
- 添加多个筛选条件，可以通过 AND 关键字来组合筛选条件（标识符除外），可参考下面示例：
  - `mode: interpolation AND owner: admin`
  - `mode: annotation and status: annotation`

注意：搜索不区分大小写。

![image-20201118175205381](依瞳数据标注平台.assets/image-20201118175205381.png)



## 2. 标注工具的界面

标注工具界面包括以下几大部分：

- 页头：主要用于平台的导航以及账号的设置等。
- 顶部面板：包含播放的基本导航、菜单（导出标注、上传标注等）和保存等。
- 工作空间：显示图像的区域。
- 侧边栏控件：包含图像导航、缩放，创建形状和编辑轨迹（合并，分割，分组）等工具。
- 侧边栏对象：包含标签条件筛选，两个列表：对象（当前帧绘制的标注对象）和标签（当前帧包含的标签）以及外观设置。

![image-20201118183815703](依瞳数据标注平台.assets/image-20201118183815703.png)



### 2.1. 基本导航

点击下面不同的箭头可跳转至上一帧/下一帧，在滚动播放条上，可以拖动到某一帧。 

几乎每个按钮都有一个快捷按键，想获得有关快捷按键的提示，只需将鼠标悬停到对应的元素上方即可。

![image-20201118190113117](依瞳数据标注平台.assets/image-20201118190113117.png)

可以使用以下方式进行图像导航：

1. 点击侧边栏上的按钮来移动图像。

   ![image-20201105100759185](依瞳数据标注平台.assets/image-20201105100759185.png)

2. 在没有标注对象的区域内按住鼠标左键，然后拖动图像即可。如果左键在标注对象上，当前高亮的边界框将被移动，而不是图像本身。按下“鼠标滚轮”，则所有标注过的的对象都将被忽略，跟随图像移动。

3. 图像缩放：

   1. 使用侧边栏控件上的“框选并放大”按钮来放大感兴趣的区域。
   2. 使用“图片自适应”按钮让图像适合工作空间。 
   3. 还可以使用鼠标滚轮缩放图像（图像将相对于当前的光标位置进行缩放）。

   ![image-20201105102525611](依瞳数据标注平台.assets/image-20201105102525611.png)



### 2.2. 形状类型

平台中可以使用以下5种形状来标注图像：

- 矩形
- 多边形
- 多段线
- 点																																			
- 长方体

也可以使用标记来标注图像，标记在工作空间中没有对应形状，但是显示在对象侧边栏中。

如下图所示：

![image-20201118193737363](依瞳数据标注平台.assets/image-20201118193737363.png)



### 2.3. 形状模式（基础）

下面通过为图像创建矩形标注的示例来演示形状模式的基本使用。

- 为一组图像创建新的标注。
- 为现有标注添加/修改/删除对象。

**两点绘制矩形**

---

步骤如下：

1. 在控件侧栏上选择点击“矩形”。

   ![image-20201118194112760](依瞳数据标注平台.assets/image-20201118194112760.png)

2. 选择标签和选择绘制的方法（通过2个点绘制或者 4个点绘制）。注意：标签应在创建任务时就设置好。

   ![image-20201118194757808](依瞳数据标注平台.assets/image-20201118194757808.png)

3. 在“形状模式”下创建新的标注，通过单击“形状”来创建单独的“矩形”。

   ![image-20201105103438581](依瞳数据标注平台.assets/image-20201105103438581.png)

4. 点击确定矩形的第一个点。

   ![image-20201118195157524](依瞳数据标注平台.assets/image-20201118195157524.png)

5. 点击确定矩形的另一个点（对角），完成标注。

   ![image-20201118195313458](依瞳数据标注平台.assets/image-20201118195313458.png)

**4点绘制矩形**

---

步骤如下：

1. 在控件侧栏上选择点击“矩形”。

   ![image-20201118194112760](依瞳数据标注平台.assets/image-20201118194112760.png)

2. 选择标签和选择绘制的方法（通过2个点绘制或者 4个点绘制）。注意：标签应在创建任务时就设置好。

   ![image-20201118195716682](依瞳数据标注平台.assets/image-20201118195716682.png)

3. 在“形状模式”下创建新的标注，通过单击“形状”来创建单独的“矩形”。

   ![image-20201118195741985](依瞳数据标注平台.assets/image-20201118195741985.png)

4. 点击确定矩形的三个点。

   ![image-20201119094627376](依瞳数据标注平台.assets/image-20201119094627376.png)

5. 点击确定矩形的最后一个点，完成标注。

   ![image-20201119094910684](依瞳数据标注平台.assets/image-20201119094910684.png)



创建好矩形标注后，鼠标点击矩形，可以进行拖动和缩放来调整矩形的位置和大小。可以使用Ctrl + Z撤消操作，并且使用Shift + Ctrl + Z或Ctrl + Y重做它们。

在对象侧边栏中可看到“对象面板”，也可以通过右键单击对象来打开它。 

![image-20201119101030901](依瞳数据标注平台.assets/image-20201119101030901.png)

在详细信息部分中，能够修改属性，进行一些基本操作。可以单击操作菜单按钮来删除对象。

**下图是一个带有不同形状的完整标注的示例：**

![image-20201119102644973](依瞳数据标注平台.assets/image-20201119102644973.png)



### 2.4. 轨迹模式（基础）

下面通过矩形标注的示例来演示轨迹模式的基本使用。

- 为一组帧创建新的标注。
- 为现有标注添加/修改/删除对象。
- 编辑轨迹，合并几个矩形到一个轨迹。

**示例：两点跟踪方式绘制矩形**

---

1. 与形状模式一样，点击侧边栏的矩形，在出现对话框中，选择所需的“标签”和“绘制方法”。

   ![image-20201105111650920](依瞳数据标注平台.assets/image-20201105111650920.png)

2. 为对象创建轨迹，在“轨道模式”中点击“跟踪”创建一个“矩形”。

   ![image-20201105111824138](依瞳数据标注平台.assets/image-20201105111824138.png)

3. 骑自行车的人在#2270帧开始移动，按“K”键或者点击”星形“按钮（见下面的截图），把这个帧标记为关键帧。

   ![image-20201105113707933](依瞳数据标注平台.assets/image-20201105113707933.png)

4. 在“轨迹模式”中，矩形将自动插入到下一帧中。如果对象开始改变它的位置，则需要修改绘制的矩形。

   不必每个帧都更改矩形，只需更新几个关键帧，它们之间的帧就会自动插值。

   接下来，向前跳30帧并调整对象的边界。 请参阅以下示例：

   ![](依瞳数据标注平台.assets/20200921172832908_22480.jpg)

5. 之后，对象的矩形将从2270到2300帧自动填充。

   ![](依瞳数据标注平台.assets/20200921172830187_8111.gif)

6. 当带标注的对象消失或变得太小时，若需要完成跟踪，必须选择“是否保留该轨迹”，快捷方式为“O”。

   ![image-20201105113747806](依瞳数据标注平台.assets/image-20201105113747806.png)

7. 如果物体在其中几帧不可见，然后再次出现，可以使用“合并”功能将几个独立的轨迹 合并成一个。

   ![image-20201105114114218](依瞳数据标注平台.assets/image-20201105114114218.png)

   1. 在骑自行车的人可见的时候创建轨迹。

      ![](依瞳数据标注平台.assets/20200921172822651_29435.gif)

   2. 点击‘合并’按钮或按‘M’键，分别点击第一段矩形轨迹和第二段矩形轨迹，以此类推。

      ![](依瞳数据标注平台.assets/20200921172818038_1167.jpg)

   3. 点击“合并”按钮或按“ M”以应用更改。

      ![image-20201105120614600](依瞳数据标注平台.assets/image-20201105120614600.png)

   4. 最终的标注轨迹在“插值”模式下的效果如下图所示。

      ![](依瞳数据标注平台.assets/20200921172813011_5495.gif)



### 2.5. 属性标注模式（基础）

在属性标注模式下，可以使用键盘在对象和图像之间快速编辑属性。

在顶部面板中，点击打开下拉列表并选择属性标注模式。

![image-20201105143250741](依瞳数据标注平台.assets/image-20201105143250741.png)



在此模式下，对象面板变为了一个特殊面板:

![image-20201105145452244](依瞳数据标注平台.assets/image-20201105145452244.png)

激活的属性将为红色的，如下图中的性别”Gender"

![image-20201119112134791](依瞳数据标注平台.assets/image-20201119112134791.png)

可按键盘上的“向上箭头”/“向下箭头”或点击界面中的按钮进入下一个/上一个属性。如下图，按下“向下箭头”后，切换到年龄”Age"属性，可以设置属性。

![image-20201119112601648](依瞳数据标注平台.assets/image-20201119112601648.png)

使用“右箭头”/“左箭头”键，可移动到上一张/下一张带有标注的图片。



### 2.6. 导出标注

导出标注的步骤如下：

1. 要导出最新的标注，必须先保存所有更改。点击“保存”按钮或使用`Ctrl+S` 快捷键来快速保存更改。
2. 点击 “菜单” 按钮。
3. 点击 “导出标注” 按钮。

![image-20201105150743918](依瞳数据标注平台.assets/image-20201105150743918.png)

选择导出标注的文件格式，平台支持以下的导出格式：

- [CVAT for video](https://github.com/openvinotoolkit/cvat/blob/develop/cvat/apps/documentation/xml_format.md#interpolation) 如果任务具有插值模式，则高亮显示。

- [CVAT for images](https://github.com/openvinotoolkit/cvat/blob/develop/cvat/apps/documentation/xml_format.md#annotation) 如果任务具有标注模式，则高亮显示。

  ![](依瞳数据标注平台.assets/20200921172756739_4043.jpg "Example XML format")

- [PASCAL VOC](http://host.robots.ox.ac.uk/pascal/VOC/)

- [(VOC) Segmentation mask](http://host.robots.ox.ac.uk/pascal/VOC/)  压缩包包含png格式的每个帧的类和实例掩码，以及一个包含每个颜色值的文本文件。

- [YOLO](https://pjreddie.com/darknet/yolo/)

- [COCO](http://cocodataset.org/#format-data)

- [TFRecord](https://www.tensorflow.org/tutorials/load_data/tf_records)

- [MOT](https://motchallenge.net/)

- [LabelMe 3.0](http://labelme.csail.mit.edu/Release3.0/)

- [Datumaro](https://github.com/opencv/cvat/blob/develop/datumaro/)

- MOTS PNG



### 2.7. 名词解释

**标签**是标注对象的一种类型（例如person, car, vehicle等）

![image-20201119114652775](依瞳数据标注平台.assets/image-20201119114652775.png)

---

**属性**是标注对象的一个特征（例如颜色、模型、质量等）。属性有两种类型：

- **不变属性**：不可变的，不能在图像与图像之间改变（如年龄、性别、颜色等）。

  ![image-20201105155150534](依瞳数据标注平台.assets/image-20201105155150534.png)

- **临时属性**：可变的，可以在任何图像上改变（例如质量，姿态，截断，等等）。

  ![image-20201105160410100](依瞳数据标注平台.assets/image-20201105160410100.png)

---

**轨迹**是在不同帧上对应到同一个对象的一组形状。

轨迹是在“轨迹模式”下创建的。

![](依瞳数据标注平台.assets/20200921172738813_12354.gif)

***

**标注**是一组形状和轨迹。标注有几种类型:

- 手动标注：手动创建的标注
- 半自动化标注：主要是自动化创建，但是需要用户提供一些数据（例如：插值）
- 自动化标注：自动创建标注，作业过程不需要人来参与



### 2.8. 工作空间

这是绘制和编辑对象的主要区域。 此外，工作空间还具有以下功能：

- 右键单击对象可以弹出“对象框” ——其中包含用于更改对象的标签和属性的必要控件，就像菜单一样。

  ![image-20201119123134453](依瞳数据标注平台.assets/image-20201119123134453.png)

- 选择一个点，右击，可以进行删除。

  ![image-20201119123510820](依瞳数据标注平台.assets/image-20201119123510820.png)

  

- **Z轴滑动条**：控制位于不同层上相互遮挡的标注对象的显示与隐藏。（仅在当前帧上存在多个图层时，该控件才可用）。按下控件中的（+）按钮，添加一个新的图层，并且设置新图层为当前层，后续绘制的标注会位于该图层上。

  ![image-20201105164036910](依瞳数据标注平台.assets/image-20201105164036910.png)



### 2.9. 设置

在页头中打开用户菜单，点击选择设置项或按“F3”，弹出设置窗口：

![image-20201105164844050](依瞳数据标注平台.assets/image-20201105164844050.png)



**“设置”有两个选项卡**：

**在“播放”选项中，可以**：

- 设置播放步长（即选择”<< “ 或 ” >>“时跳过的帧数）。

- 控制播放速度。

- 选择画布背景颜色。可以点击选择一个背景色或手动输入（RGB或HEX格式）。

- 显示“格网线”。改变网格大小，选择颜色和透明度：

  ![image-20201105170540897](依瞳数据标注平台.assets/image-20201105170540897.png)

  

- 重置缩放：全图或缩小方式显示每一张图片（默认在插值模式时启用，标注模式时禁用）。    

- “旋转所有图片”复选框：切换旋转所有帧或单个帧。

- 颜色设置：调整过度曝光或太暗图像的“亮度”/“对比度”/“饱和度”（注意：改变的是显示设置，而不是图像本身）。

- 快捷键

  - `Shift+B+=`/`Shift+B+-` 	调节亮度                                                                                            

  - `Shift+C+=`/`Shift+C+-`     调节对比度

  - `Shift+S+=`/`Shift+S+- `     调节饱和度

![image-20201105171138879](依瞳数据标注平台.assets/image-20201105171138879.png)

- 重置颜色设置。

***

**在“工作空间“选项，可以**：

- 启用自动保存：默认为关闭状态，可设置自动保存的间隔时间。

- 显示所有插值的轨迹：侧面板上显示隐藏的插值对象。

- 始终显示目标细节：在画布上显示该对象的文本，而不仅仅是对象激活时。

  ![image-20201105173454331](依瞳数据标注平台.assets/image-20201105173454331.png)

- 自动构边：在绘图/编辑过程中，为多边形和多线段启动自动构边功能。

- 设置属性标注模式（AAM)时的缩放边距。

![image-20201105171408095](依瞳数据标注平台.assets/image-20201105171408095.png)



***

### 2.10. 顶部面板

![image-20201105174053127](依瞳数据标注平台.assets/image-20201105174053127.png)

***



#### 2.10.1. 操作菜单

操作菜单是标注工具的主菜单，可以用于导出、上传、移除标注和导出数据集等。

![image-20201105174134883](依瞳数据标注平台.assets/image-20201105174134883.png)

- 导出标注：从当前作业导出标注。
- 上传标注：上传标注到当前作业。
- 移除标注：从当前作业移除标注。
- 导出数据集：从当前作业导出数据集，支持以下几种格式：
  - COCO
  - CVAT for images
  - CVAT for video
  - Datumaro
  - LabelMe
  - MOT
  - MOTS PNG
  - PASCAL VOC
  - Segmentation mask
  - TFRecord
  - YOLO
- 打开任务：跳转到任务列表



#### 2.10.2. 保存

保存当前作业的标注。

![image-20201105174212683](依瞳数据标注平台.assets/image-20201105174212683.png)

#### 2.10.3. 撤销/重做

撤消或重做操作按钮。

![image-20201105174246008](依瞳数据标注平台.assets/image-20201105174246008.png)

***

#### 2.10.4. 播放器

转到第一帧/最后帧。

![](依瞳数据标注平台.assets/20200921172705241_28845.jpg)

按照设定的步长（跳过的帧数）进入下一个/前一个帧。

快捷方式：“V”—后退一步，“C”—向前一步。默认情况下，步长是“10”帧（在“帐户菜单”更改-&gt;“设置”→“播放步长”)。

![](依瞳数据标注平台.assets/20200921172703131_30090.jpg)

转到下一个/上一个帧(步长是1帧)。快捷方式:“D”—上一个，“F”—下一个。

![](依瞳数据标注平台.assets/20200921172700917_16105.jpg)

播放帧序列或图像集。快捷方式:“空格”（在“帐户菜单”更改-&gt;“设置”→“播放速度”）。

![](依瞳数据标注平台.assets/20200921172658807_21652.jpg)

跳转到一个特定的帧。按“~”将焦点放在元素上。

![image-20201105174349287](依瞳数据标注平台.assets/image-20201105174349287.png)

***

#### 2.10.5. 全屏

全屏显示标注界面，键盘快捷键是“F11”。

![image-20201105174441801](依瞳数据标注平台.assets/image-20201105174441801.png)

#### 2.10.6. 信息

点击“信息”，可查看作业的详细信息。

- 作业状态：“批注中”、“验证中”或“已完成”

- 概览
  - ' 执行人' ：被分配作业的人。
  - “起始帧”：此作业中第一帧。
  - '终止帧'：此作业中最后一帧。

  - “帧”：作业中所有帧的总数。

- 标注统计：包含标签(如Car、Person)、标注类型(形状、轨迹)、以及手工标注、插值和总计（标注的总数）。

![image-20201105174758576](依瞳数据标注平台.assets/image-20201105174758576.png)



#### 2.10.7. 切换UI界面

![image-20201105174854541](依瞳数据标注平台.assets/image-20201105174854541.png)

***

### 2.11. 侧边栏控件

**导航块** \-包含用于移动和旋转图像的工具。

| 图标                                                     | 描述                                               |
| -------------------------------------------------------- | -------------------------------------------------- |
| ![](依瞳数据标注平台.assets/20200921172647287_20441.jpg) | 光标                                               |
| ![](依瞳数据标注平台.assets/20200921172645157_4378.jpg)  | 移动图像                                           |
| ![](依瞳数据标注平台.assets/20200921172643022_28134.jpg) | 旋转，支持顺时针（CTRL+R)  和逆时针（CTRL+SHIFT+R) |

**缩放块** \-包含图像变焦工具。

| 图标                                                     | 描述                                       |
| -------------------------------------------------------- | ------------------------------------------ |
| ![](依瞳数据标注平台.assets/20200921172640892_31729.jpg) | 图片自适应（快捷方式：鼠标双击图片）       |
| ![](依瞳数据标注平台.assets/20200921172638578_2025.jpg)  | 框选并放大（使用此工具可以放大框选的部分） |

**形状块** \-包含创建形状的所有工具。

| 图标                                                     | 描述   | 链接                       |
| -------------------------------------------------------- | ------ | -------------------------- |
| ![image189](依瞳数据标注平台.assets/image189.jpg)        | AI工具 | [AI工具](#6-AI工具)        |
| ![](依瞳数据标注平台.assets/20200921172636469_24464.jpg) | 矩形   | [矩形](#23-形状模式基础）) |
| ![](依瞳数据标注平台.assets/20200921172634354_23693.jpg) | 多边形 | [多边形](#8-多边形标注)    |
| ![](依瞳数据标注平台.assets/20200921172632344_2461.jpg)  | 多段线 | [多段线](#9-多段线标注)    |
| ![](依瞳数据标注平台.assets/20200921172630232_26044.jpg) | 点     | [点](#10-点标注)           |
| ![](依瞳数据标注平台.assets/20200921172628020_6862.jpg)  | 长方体 | [长方体](#11-长方体标注)   |
| ![](依瞳数据标注平台.assets/20200921172625908_4417.jpg)  | 标记   | [标记](#12-标记标注)       |

**编辑块** \-包含编辑轨迹和形状的工具。

| 图标                                                     | 描述                                         |
| -------------------------------------------------------- | -------------------------------------------- |
| ![](依瞳数据标注平台.assets/20200921172623798_29138.jpg) | '合并形状' (' M ') ：启动/停止合并形状模式。 |
| ![](依瞳数据标注平台.assets/20200921172621589_32653.jpg) | 启动/停止分组形状模式。                      |
| ![](依瞳数据标注平台.assets/20200921172619379_5140.jpg)  | ' 分割 ' ：分割一个轨迹。                    |

***



### 2.12. 对象侧边栏

隐藏按钮：隐藏对象侧边栏

![image-20201105175132278](依瞳数据标注平台.assets/image-20201105175132278.png)

#### 2.13.1. 对象

**标注条件筛选：**

![image-20201105175543420](依瞳数据标注平台.assets/image-20201105175543420.png)



**对象列表**

![image-20201105180545247](依瞳数据标注平台.assets/image-20201105180545247.png)

- 锁定/解锁所有标注：切换帧中所有对象的锁定属性。
- 隐藏/显示所有标注：切换帧中所有对象的隐藏属性。
- 展开/折叠所有：展开/折叠帧中所有对象的详细信息字段。
- 排序：根据ID或者更新时间对对象进行排序。

在对象侧边栏中，可以看到当前帧中可用对象的列表，如下图所示（形状模式-轨迹模式）：

![image-20201119154025107](依瞳数据标注平台.assets/image-20201119154025107.png)

***



**侧栏上的对象**

可以通过选择标签来更改形状的类型，如下图所示：

![image-20201105185146167](依瞳数据标注平台.assets/image-20201105185146167.png)

**对象操作菜单**

![image-20201119154537197](依瞳数据标注平台.assets/image-20201119154537197.png)

操作菜单包含：

- 创建对象URL：复制对象关联的url到剪贴板，打开链接后，将过滤该对象。

- “复制” ：复制对象，键盘快捷键是Ctrl + C、Ctrl +V。

- 复制到多帧：会弹出一个对话框，可以在其中指定要复制的帧数量或目标帧的值。 键盘快捷键为“ Ctrl + B”。

  ![image-20201105185440627](依瞳数据标注平台.assets/image-20201105185440627.png)

- 移至背景” ：将对象移至背景。 键盘快捷键“-”，“ _”。

- 移至前景” ：将对象移至前景。 键盘快捷键“ +”，“ =”。

- 移除：移除对象。 键盘快捷键“ Del”，“ Shift + Del”。

形状可以锁定以防止意外改变或移动。锁定对象的快捷方式:' L '。

![image-20201105185609870](依瞳数据标注平台.assets/image-20201105185609870.png)

形状可以被“遮挡”。 快捷键：“ Q”。 这样的形状具有虚线边界。

![image-20201105185702379](依瞳数据标注平台.assets/image-20201105185702379.png)

![](依瞳数据标注平台.assets/20200921172553881_7101.jpg)



可以更改对象在帧上的显示方式（显示或隐藏）。

![image-20201105190449181](依瞳数据标注平台.assets/image-20201105190449181.png)



“固定” \-启用后，无法通过拖放来移动形状。

![image-20201105190525980](依瞳数据标注平台.assets/image-20201105190525980.png)

通过单击“详情”按钮，可以折叠或扩展具有对象所有属性的字段。

![image-20201105191720095](依瞳数据标注平台.assets/image-20201105191720095.png)

***

#### 2.13.2. 标注

是一个已存在的标签列表，可以点击锁定或隐藏特定标签的对象。

![image-20201119155901067](依瞳数据标注平台.assets/image-20201119155901067.png)

***

#### 2.13.3. 外观

**颜色选项**

更改标注的颜色方案：

- 实例——每个形状的颜色都是随机的。

  ![image-20201119160840213](依瞳数据标注平台.assets/image-20201119160840213.png)

- 分组——每个形状分组的颜色都是随机的，未分组的形状为白色。

  ![image-20201119161018805](依瞳数据标注平台.assets/image-20201119161018805.png)

  

- 标注——每个标注（例如汽车，人）的颜色都是随机的。

  ![image-20201119161338055](依瞳数据标注平台.assets/image-20201119161338055.png)



**不透明度滑块**

更改标注中每个形状的不透明度：

![image-20201105195519302](依瞳数据标注平台.assets/image-20201105195519302.png)

**选中标注的不透明度滑块**

更改所选对象的填充的不透明度：

![image-20201105200308696](依瞳数据标注平台.assets/image-20201105200308696.png)



**外边线复选框**

将形状边框从彩色更改为黑色：

![image-20201105200345862](依瞳数据标注平台.assets/image-20201105200345862.png)

**显示位图复选框**

如果启用，则所有形状均显示为白色，背景为黑色：

![image-20201105200414034](依瞳数据标注平台.assets/image-20201105200414034.png)

**显示投影线复选框**

启用/禁用辅助透视线的显示，仅与长方体有关。

![image-20201119162100734](依瞳数据标注平台.assets/image-20201119162100734.png)



## 3. 形状模式（高级）

形状模式的基本操作在[2.3节](#23-形状模式（基础）)中已经描述过，下面讲解形状模式的其它用法。

**遮挡**：遮挡是一个对象被另一个对象遮挡或在图像上不完全可见时使用的属性。 使用“ Q”快捷方式可以快速设置属性。

![image-20201106103206541](依瞳数据标注平台.assets/image-20201106103206541.png)

示例：下图上的三辆汽车应标记为“被遮挡”。

![](依瞳数据标注平台.assets/20200921172519220_6259.jpg)


如果一个帧包含太多对象，并且由于大多数形状都放置在同一位置而难以标注它们，则将它们锁定是有意义的。

被锁定的对象的形状是透明的，并且易于标注新对象。 此外，可以避免不小心更改到之前的标注对象。 锁定对象的快捷键：“ L”。

![image-20201106103333146](依瞳数据标注平台.assets/image-20201106103333146.png)

## 4. 轨迹模式（高级）

轨迹模式的基本操作在[2.4](#24-轨迹模式（基础）)节中已经描述过，下面讲解轨迹模式的其它用法。

在轨迹模式下创建的形状具有额外的导航按钮。

- 跳转到上一个/下一个关键帧。

  ![image-20201106103522143](依瞳数据标注平台.assets/image-20201106103522143.png)

- 跳转到初始和最后一个关键帧。

  ![image-20201106103608939](依瞳数据标注平台.assets/image-20201106103608939.png)

- 可以使用“分割”功能将一个轨迹拆分为两个：

![car](依瞳数据标注平台.assets/car.gif)



## 5. 属性标注模式（高级）

在2.5节中已经描述过属性标注模式的基本操作，下面讲解属性标注模式的其它用法。

- 在此模式下，可以在同一帧上处理多个对象。

![image-20201119163828177](依瞳数据标注平台.assets/image-20201119163828177.png)

- 在此模式下，标注相同类型的对象会更方便， 在这种情况下，可以应用适当的筛选条件。 例如，以下筛选条件将隐藏除`Person`以外的所有对象：`label ==“ Person”`。

- 在此模式下，可以使用以下特殊面板上的按钮来切换当前帧内的对象

![image-20201106123014041](依瞳数据标注平台.assets/image-20201106123014041.png)

- 使用快捷方式
  - `Tab` ：转到下一个对象
  - `Shift+Tab` ：转到上一个对象。

- 为了更改缩放级别，可进入工作空间标签页设置（或按F3键），然后以px为单位设置值属性标注模式（AAM）的缩放边距。



## 6. AI工具

AI工具是为使用深度学习DL模型进行半自动和自动标注进行设计的，只有存在相应的模型时，该工具才可用。

### 6.1 辅助标注

辅助标注用来实现半自动化创建多边形，支持的深度学习模型不绑定到具体的标签，适用于任何对象。使用辅助标注方式创建多边形，需要使用规则点或者正点，对于某些类型的段，也可以使用负点来创建。正点是跟对象相关联的点，而负点应该放置在对象的边界外。大多数情况下，仅指定正点就足以构建多边形。

使用步骤：

1. 点击选择控件侧边栏的“魔法棒”，选择“辅助标注”选项，然后为多边形选择一个标签和需要的深度学习模型。

   ![image-20201130165358152](依瞳数据标注平台.assets/image-20201130165358152.png)

2. 点击“辅助标注”，进入辅助标注模式。这时可以单击鼠标来放置正点或负点。左击可以创建一个正点，而右击可以创建一个负点。深度精确分割模型需要至少4个点。设置4个正点后，将向服务器发送一个请求，当请求完成时，将创建一个多边形。如果想对修改已创建的多边形，可以通过左键单击设置其他点或删除点。如果想推迟发送请求并创建更多的点，可按住Ctrl键来创建更多点，在释放键后才会发送请求。

   ![image-20201130165943815](依瞳数据标注平台.assets/image-20201130165943815.png)

3. 结束辅助标注，可点击控件侧边栏上的图标或按键盘上的N键。

对象创建完成后，可以像多边形一样编辑它。想查看更多，请阅读[多边形标注](#8-多边形标注)。

### 6.2 自动标注

“自动标注”可以帮助我们自动标注一个帧，支持的模型仅适用于某些特定的标签。

使用步骤：

1. 点击选择控件侧边栏的“魔法棒”，选择“自动标注”选项，然后点击选择模型，需要匹配深度学习模型的标签（左栏）与任务栏的标签（右栏）。

   ![image-20201130165309395](依瞳数据标注平台.assets/image-20201130165309395.png)

2. 点击“标注”，此时会发向服务器发送一个请求，当请求完成时，将自动对此帧进行标注。

如果想要对所有帧进行自动标注，请阅读[自动标注](#14-自动标注)。

### 6.3 目标跟踪

“目标跟踪”可以帮助我们在标注一帧后，自动跟踪对象，自动标注后面特定帧数的帧。

使用步骤：

1. 点击选择控件侧边栏的“魔法棒”，选择“目标跟踪”选项，选择标签与跟踪模型，设置跟踪的帧数（必须大于1）。

   ![image-20201130170136470](依瞳数据标注平台.assets/image-20201130170136470.png)

2. 点击“跟踪”，使用两点标注方法框选要跟踪的对象，此时会想服务器发送一个请求，请求完成后，会自动标注当前帧后面设定的帧数的帧。

   ![image-20201130174339794](依瞳数据标注平台.assets/image-20201130174339794.png)



## 7. 矩形标注

### 7.1 矩形两点标注

使用该方法时，记得确保选择了2个点绘制方法：

![image-20201216121651014](依瞳数据标注平台用户手册.assets/image-20201216121651014.png)

使用步骤：

1. 点击“形状”或“跟踪”进入绘图模式。
2. 点击2个端点，点击第二个点后将自动完成绘图。
3. 按`Esc`可以取消编辑。

### 7.2 矩形四点标注

这是标注边界框的一种有效方法。

使用该方法时，记得确保选择了4个点绘制方法：

![image-20201106141126731](依瞳数据标注平台.assets/image-20201106141126731.png)

使用步骤：

1. 点击“形状”或“跟踪”进入绘图模式。
2. 点击四个端点（物体的顶部，底部，左边和右边的实体点），点击第四个点后将自动完成绘图。
3. 按`Esc`可以取消编辑。

![](依瞳数据标注平台.assets/20200921172456526_23039.gif)

## 8. 多边形标注

### 8.1. 手工绘制

1. 在控件侧边栏选择”矩形“并选择正确的标签。

   ![image-20201106141255461](依瞳数据标注平台.assets/image-20201106141255461.png)

2. 点击“形状”进入绘制模式。有两种绘制多边形的方法：

   - 方法1：通过点击创建点。

   - 方法2：在屏幕上按住Shift键拖动鼠标创建点。

   | 通过点击创建点                                               | 按住Shift键，拖动鼠标创建点                                  |
   | ------------------------------------------------------------ | ------------------------------------------------------------ |
   | ![20200921172446599_206](依瞳数据标注平台.assets/20200921172446599_206.gif) | ![20200921172442192_6343](依瞳数据标注平台.assets/20200921172442192_6343.gif) |

- 当未按Shift键时，可以放大/缩小（滚动鼠标滚轮时）和移动（单击鼠标滚轮并移动鼠标时），也可以通过右键单击删除上一点。

- 按 “ N ” 键完成形状绘制。

- 创建多边形后，可以通过右键单击并选择“删除点”或在右键菜单中按Alt键再单击来移动或删除这些点。
  
   

### 8.2. 自动勾边

在绘制多边形时可以使用自动勾边，使用自动勾边可以自动跟踪标注中存在的多边形的轮廓。

![](依瞳数据标注平台.assets/20200921172438483_11753.gif)

要使用自动勾边，需要进入设置-&gt;工作区选项卡，**启用“自动构边”**。

![image-20201106141648612](依瞳数据标注平台.assets/image-20201106141648612.png)

步骤如下：

- 绘制/编辑一个多边形。

- 其他形状的点将被突出显示，这意味着多边形可以附加到它们上。

- 定义要重复的多边形路径的一部分。

  ![](依瞳数据标注平台.assets/20200921172431962_19679.jpg)

- 点击轮廓部分的第一个点。

  ![](依瞳数据标注平台.assets/20200921172429449_16206.jpg)

- 点击路径上的任意点。选中的点将以紫色突出显示。

  ![](依瞳数据标注平台.assets/20200921172426838_15305.jpg)

- 点击最后一点，轮廓将被自动建立。

  ![](依瞳数据标注平台.assets/20200921172424226_27968.jpg)

另外，可以在“点数量”字段中设置一个固定的点数，绘图会自动停止。

若要启用拖拽，可在多边形内右键单击并选择“切换固定属性”。

下面你可以看到不透明度和黑色描边的结果:

![](依瞳数据标注平台.assets/20200921172421615_9107.jpg)


如果需要标注小对象，为方便起见，建议在“创建任务”对话框中将“图像质量”提高到“ 95”。



### 8.3. 编辑多边形

编辑一个多边形，必须点击按下' Shift '键，打开多边形编辑器，然后可以进行以下操作：

- 创建新的点或删除部分多边形 

- 多边形封闭后，可以选择要删除的部分多边形。

- 按“Esc”取消编辑。

  ![](依瞳数据标注平台.assets/20200921172410847_6820.gif)

## 9. 多段线标注

多段线标注主要用于道路标志的标注等。

使用方法：

1. 选择“多段线”。可以在“点数量”字段中设置一个固定的点数，达到固定点数量时，绘图将会自动停止。

   ![image-20201106142044600](依瞳数据标注平台.assets/image-20201106142044600.png)

2. 点击“形状”进入绘制模式。有两种绘制多段线的方法。

   1. 可以通过点击或者在屏幕上按住Shift键拖动鼠标来创建点。
   2. 当松开“Shift”键时，可以放大/缩小(滚动鼠标滚轮时)和移动(点击鼠标滚轮和移动鼠标时)，还可以右击删除前面的点。

3. 按' N '完成形状的绘制。

4. 可以通过按下' Ctrl '来点击一个点，或者右键点击一个点并选择' 删除点 '来删除一个点。

5. 点击按下“Shift”将打开多段线编辑器，此时可以创建新的点(通过单击或拖动)或删除多边形的一部分。

6. 按“Esc”可取消编辑。

[![](依瞳数据标注平台.assets/20200921172403308_6797.jpg)](https://github.com/openvinotoolkit/cvat/blob/develop/cvat/apps/documentation/static/documentation/images/image039_mapillary_vistas.jpg)



## 10. 点标注

### 10.1. 点标注形状模式

点标注模式主要用于面部，地标标注等。

使用方法：

1. 选择点。可以在“点数量”字段中设置一个固定的点数，达到设置的数量时，绘制将会自动停止。

   ![image-20201106145500456](依瞳数据标注平台.assets/image-20201106145500456.png)

2. 点击“Shape”进入绘图模式，就可以开始标注了。

3. 绘制操作起始点和终止点间的点会被自动分成一组。

4. 按' N '完成区域标记。

5. 可以通过按下“Alt”+点击，或右键单击一个点选择“删除点”来删除一个点。

6. 点击按下' Shift '将打开点形状编辑器，此时可以添加新的点到现有的形状，也可以放大/缩小（滚动鼠标滚轮）和移动（点击鼠标滚轮和移动鼠标），可以拖动已绘制的对象，并在完成对象后改变单个点的位置。

   ![](依瞳数据标注平台.assets/20200921172358271_3434.jpg)



### 10.2. 点标注线性插值

可以使用点标注线性插值来标注一个移动对象，步骤如下：

1. 选择“点”。

2. 线性插值只对一个点有效，所以需要将“点的数量”设置为1。    

3. 选择“跟踪”。

   ![image-20201106151104081](依瞳数据标注平台.assets/image-20201106151104081.png)

   

4. 点击 “跟踪” 进入绘制模式，左键点击创建一个点，之后该形状将自动完成。

   ![image-20201106211322010](依瞳数据标注平台.assets/image-20201106211322010.png)

   

5. 向前移动几帧并将点移动到想要的位置，这样可以创建一个关键帧，中间帧将被自动绘制。可以使用插值轨迹来处理这个对象，如可以隐藏它，移动关键帧等等。

   ![image-20201106211418504](依瞳数据标注平台.assets/image-20201106211418504.png)

6. 最后，就可以用“点”得到线性插值了。

   ![](依瞳数据标注平台.assets/20200921172347510_24239.gif)



## 11. 长方体标注

长方体标注主要用于标注三维对象，如汽车、盒子等。

目前，该方式仅支持单点透视，并且垂直边与侧面完全平行。

### 11.1. 创建长方体

选择长方体，并选择“基于矩形”或“4个点”进行绘制。

![image-20201106152306921](依瞳数据标注平台.assets/image-20201106152306921.png)

#### 11.1.1. 四点绘制长方体

选择“4个点”绘制方式，点击形状，进入绘制模式。

绘制长方体有很多种方法。可通过绘制4个点来绘制长方体，绘制4个点后，长方体绘制将自动完成。

前3个点决定了长方体的平面，后一点决定了该平面的深度。对于前3个点，建议只画最近的2个侧面，以及顶面和底面。

例如：

![image-20201106193040736](依瞳数据标注平台.assets/image-20201106193040736.png)

#### 11.1.2. 基于矩形绘制长方体

选择“基于矩形”绘制方法，点击形状，进入绘制模式。

使用矩形方法绘制时，必须使用边界框选择对象的正面平面。

所得到的长方体的深度和透视可以进行编辑。

例如：

![image-20201106194104794](依瞳数据标注平台.assets/image-20201106194104794.png)

### 11.2. 编辑长方体

![image-20201106203823232](依瞳数据标注平台.assets/image-20201106203823232.png)

长方体可以通过多种方式进行编辑：通过拖动点、拖动某些面或拖动平面。

首先，请注意：有一面只画了灰色的线条，我们称之为正面。

移动长方体只需简单拖动在正面后面的形状，拖动在棱中间的点上可伸展长方体，长方体也可以通过拖动顶点上的点向上和向下展开。

![](依瞳数据标注平台.assets/20200921172332930_11481.gif)

要用透视效果来绘制，应该假设正面是离相机最近的。首先，按住Shift键拖动不位于灰色/正面的顶点上的点。然后可以像往常一样编辑长方体。

![](依瞳数据标注平台.assets/20200921172329711_5205.gif)

若希望重置透视效果，可以右键单击长方体，并选择“重置透视”返回到一个普通的长方体。

![image-20201106203950392](依瞳数据标注平台.assets/image-20201106203950392.png)

灰色面的位置可以与相邻的可见侧面交换。可以通过右击长方体并选择“切换透视方向”来实现。注意，这也将重置透视效果。

![image-20201106204102022](依瞳数据标注平台.assets/image-20201106204102022.png)



可以对长方体的左侧面，右侧面和背面进行编辑（以灰色面为参考）。

![](依瞳数据标注平台.assets/20200921172321362_21326.gif)

---

还可以使用轨迹模式绘制长方体，跟轨迹模式绘制多边形的用法很相似。



## 12. 标记标注

标记标注不在工作空间中显示。使用之前，需打开顶部面板的下拉列表，选择“标记”标注。

![image-20201106152629685](依瞳数据标注平台.assets/image-20201106152629685.png)

对象侧边栏将被替换为使用标记的特殊面板。

在面板上，可以为标记选择一个标签，然后点击“添加标记”按钮来添加它，可以为每个标签设置快捷键。

![image-20201106154550877](依瞳数据标注平台.assets/image-20201106154550877.png)

如果只需要为一个帧使用一个标签，可以勾选“自动转到下一个框”复选框。勾选后，若添加标记，帧将自动切换到下一个。



## 13. 多边形轨迹模式

与使用矩形相比，在跟踪模式下的多边形可以更准确地标注移动的目标。

1. 点击“跟踪”按钮，在轨迹模式下创建一个多边形。

   ![image-20201106154848957](依瞳数据标注平台.assets/image-20201106154848957.png)

2. 创建多边形的方法与[使用多边形标注](#8-多边形标注)的方法相同，按“N”键完成多边形的绘制。

3. 注意：创建的多边形有一个起点和方向，这对于后续帧的标注很重要。

4. 前进几帧并按下Shift+N键后，旧的多边形会消失，此时可以创建一个新的多边形。新的起始点应该与之前创建的多边形的起始点（在这个例子中，是车上镜子左面的顶部）匹配。方向也必须匹配（在本例中为顺时针）。

5. 创建多边形后，按' N '键，中间帧将自动插值。

   ![image-20201106163453108](依瞳数据标注平台.assets/image-20201106163453108.png)

6. 如果需要更改起始点，右键单击所需的点并选择“设置起始点”。要改变方向，右键单击所需的点并选择“切换方向”。

   ![image-20201106163729770](依瞳数据标注平台.assets/image-20201106163729770.png)

   注意：没有必要每次使用‘`Shift+N`’重新绘制多边形，可以简单地移动点或者通过按‘Shift“来编辑多边形的某一部分。



## 14. 自动标注

自动标注用于创建初始标注。要使用自动标注，需要一个深度学习模型。可以在“模型”部分找到可用的模型列表。

使用自动标注的步骤：

1. 选取一个任务，点击“操作”按钮，从下拉菜单中选择“自动标注”选项。

   ![image-20201119190039421](依瞳数据标注平台.assets/image-20201119190039421.png)

   

2. 在对话框窗口中选择需要的模型。深度学习模型是为特定场景创建的，包含特定的的标签。例如：Crossroad模型是使用位于高速公路上方的摄像机拍摄的镜头来进行训练的，最好使用这个模型来完成具有相似摄像机角度的任务。

3. 如果需要清除旧的标注，勾选“清除旧的标注”复选框。

4. 调整标签，建立任务标签与模型标签的对应关系。假设，我们在一个任务中必须标注出“`car`”和“`person`”，应该将模型中的“person”标签映射到任务中的“person”标签。对于“car”标签，应该选择最适合的标签（”`vehicle`“标签）。若任务要求只标注车辆，可选择“vehicle”标签来标注所有车辆。

5. 在本例中使用自动标注加快了标注的速度，单击“提交”即可开始自动标注过程。

   ![image-20201106165414825](依瞳数据标注平台.assets/image-20201106165414825.png)

6. 在自动标注进行时，能看到完成的进度，可以通过单击“取消”按钮取消自动标注。

   ![image-20201106170351571](依瞳数据标注平台.assets/image-20201106170351571.png)

7. 自动标注的最终结果是带有矩形(或其他形状)的标注。

   ![](依瞳数据标注平台.assets/20200921172237959_22522.gif)

8. 可以使用'分割'和'合并'功能来删除假阳性与编辑轨迹。

   ![](依瞳数据标注平台.assets/20200921172232134_4377.gif)


## 15. 形状分组

通过形状分组功能，可以将几个形状分组。

形状分组的相关快捷方式如下：

- ' G '  - 在组模式下开始选择/结束选择
- ' Esc '  - 关闭组模式
- ' Shift+G '  - 重置所选形状的组

在导出的标注中，分组形状会包含一个group_id字段。

可以将颜色分布从一个实例(默认)切换到一个组，点击”分组“即可。

没有' group_id '的形状将以白色突出显示。

![image-20201119194459184](依瞳数据标注平台.assets/image-20201119194459184.png)

![image-20201119195120353](依瞳数据标注平台.assets/image-20201119195120353.png)



## 16. 条件筛选

![image-20201216123124265](依瞳数据标注平台用户手册.assets/image-20201216123124265.png)

使用条件筛选功能，可以帮助我们:

1. 使用条件筛选时，与筛选条件不匹配的对象将被隐藏。
2. 帧的快速导航。点击“左箭头”或“右箭头”时，当一个帧中没有与筛选条件匹配的对象时，将会跳转到上一帧或下一帧（跳过不匹配的帧）。
3. 条件筛选包含历史功能，点击输入框，可查看经常使用的和最近使用的筛选条件。

使用筛选条件功能，只需给筛选条件文本字段指定一个值并按“Enter”回车即可。

***

支持的条件筛选属性：

| 属性       | 支持的值                                            | 描述                                                         |
| ---------- | --------------------------------------------------- | ------------------------------------------------------------ |
| `height`   | number of px or `height`                            | 形状高度                                                     |
| `width`    | number of px or `width`                             | 形状宽度                                                     |
| `label`    | `"text"` or `["text"]`                              | 标签名称                                                     |
| `serverID` | number                                              | 服务器上对象的ID（可以通过“操作”菜单形成指向该对象的链接来查找） |
| `clientID` | number                                              | 客户端中对象的ID（在对象侧边栏上显示）                       |
| `type`     | `"shape"`, `"track"`, `"tag"`                       | 对象类型                                                     |
| `shape`    | `"rectangle"`,`"polygon"`,  `"polyline"`,`"points"` | 形状类型                                                     |
| `occluded` | `true` or `false`                                   | 遮挡属性                                                     |
| `attr`     | `"text"`                                            | 属性名称                                                     |

**支持的运算符：**

- `==` 等于
- `!=` 不等于
-  `>` 大于
- `>=` 大于等于
-  `<` 小于
- `<=`小于等于
- `()` 括号
-  `&` 与
-  `|`或

如果查询字符串中有双引号，请使用反斜杠转义它们：` \"`。所有属性和值都区分大小写。标注平台使用json查询来执行搜索。

***

**条件筛选示例：**

- `label=="car" | label==["road sign"]` ：此筛选条件将仅显示带有car或road sign标签的对象。
- `shape == "polygon"` ：此筛选条件将只显示多边形。
- `width >= height` ：此筛选条件将只显示宽度大于等于高度的对象。
- `attr["color"] == "black"` ：此筛选条件将显示颜色属性为黑色的对象。
- `clientID == 50` ：此筛选条件将显示id为50的对象（例如矩形50）。
- `(label=="car" & attr["parked"]==true) | (label=="pedestrian" & width > 150)` ：此筛选条件将显示“car”标签和“parking”属性已启用的对象，或“peancial”标签高度超过150像素的对象。
- `(( label==["car \"mazda\""]) | (attr["parked"]==true & width > 150)) & (height > 150 & (clientID == serverID)))` ：此筛选条件将显示标签为“car”mazda“”的对象或已启用“parked”属性且宽度超过150像素的对象，并且列出的对象的高度应超过150像素，并且其clientID等于serverID。

**条件筛选历史：**

![image-20201109145404727](依瞳数据标注平台.assets/image-20201109145404727.png)

可以添加以前输入的筛选条件并将它们组合起来。单击输入框，将打开以前输入的筛选条件列表，然后单击筛选条件将其添加到输入字段中。筛选条件通过“或”运算符来组合。



## 17. 快捷键

标注平台的UI界面中，很多元素都有快捷键，可以把光标移动到元素上方查看快捷键，如：

![image-20201106204425961](依瞳数据标注平台.assets/image-20201106204425961.png)

| 快捷键                     | 备注                                           |
| -------------------------- | ---------------------------------------------- |
|                            | 主要功能                                       |
| `F3`                       | 显示快捷键列表                                 |
| `F2`                       | 显示设置页面或返回                             |
| `Ctrl+S`                   | 保存                                           |
| `Ctrl+Z`                   | 撤销                                           |
| `Ctrl+Shift+Z` or `Ctrl+Y` | 重做                                           |
| 按住鼠标滚轮               | 移动图像                                       |
|                            | 播放器                                         |
| `F`                        | 下一帧                                         |
| `D`                        | 上一帧                                         |
| `V`                        | 下一帧（以步长值为基准跳转）                   |
| `C`                        | 上一帧（以步长值为基准跳转）                   |
| `Right`                    | 搜索满足筛选条件的下一帧或包含任何对象的下一帧 |
| `Left`                     | 搜索满足筛选条件的前一帧或包含任何对象的上一帧 |
| `Space`                    | 开始/暂停自动播放                              |
| `` ` `` or `~`             | 将焦点定位到元素上，用于修改当前帧             |
|                            | 模式                                           |
| `N`                        | 继续绘制                                       |
| `M`                        | 合并形状                                       |
| `Alt+M`                    | 拆分形状                                       |
| `G`                        | 分组                                           |
| `Shift+G`                  | 重置分组                                       |
| `Esc`                      | 取消任何激活控件                               |
|                            | 图像操作                                       |
| `Ctrl+R`                   | 顺时针旋转90度                                 |
| `Ctrl+Shift+R`             | 逆时针旋转90度                                 |
| `Shift+B+=`                | 增加图片亮度                                   |
| `Shift+B+-`                | 减少图片亮度                                   |
| `Shift+C+=`                | 增加图片对比度                                 |
| `Shift+C+-`                | 减少图片对比度                                 |
| `Shift+S+=`                | 增加图片饱和度                                 |
| `Shift+S+-`                | 减少图片饱和度                                 |
| `Shift+G+=`                | 网格可见                                       |
| `Shift+G+-`                | 网格不可见                                     |
| `Shift+G+Enter`            | 切换网格颜色                                   |
|                            | 对象操作                                       |
| `Ctrl`                     | 在绘制多边形和多段线时切换自动标注             |
| 按住 `Ctrl`                | 当形状处于活动状态时，对其进行修复             |
| `Ctrl`+点击点              | 删除一个点                                     |
| `Shift`+点击形状           | 编辑一个形状                                   |
| `Right-Click`              | 对象侧边栏显示对象元素                         |
| `T+L`                      | 更改侧栏中所有对象的锁定状态                   |
| `L`                        | 更改活动对象的锁定状态                         |
| `T+H`                      | 修改侧边栏的对象的隐藏显示状态                 |
| `H`                        | 更改活动对象的隐藏状态                         |
| `Q` or `/`                 | 更改活动对象的遮挡状态                         |
| `Del` or `Shift+Del`       | 删除激活对象，使用shift强制删除锁定对象        |
| `-` or `_`                 | 移至背景                                       |
| `+` or `=`                 | 移至前景                                       |
| `Ctrl+C`                   | 复制                                           |
| `Ctrl+V`                   | 粘贴                                           |
| 粘贴时按住`Ctrl`           | 连续粘贴                                       |
| `Crtl+B`                   | 连续复制到指定帧                               |
|                            | 操作仅适用于轨迹                               |
| `K`                        | 更改活动轨迹的关键帧属性                       |
| `O`                        | 更改活动轨迹的外部属性                         |
| `R`                        | 下一关键帧                                     |
| `E`                        | 前一关键帧                                     |
|                            | 属性标注模式                                   |
| `Up Arrow`                 | 下一个属性                                     |
| `Down Arrow`               | 上一个属性                                     |
| `Tab`                      | 下一个标注对象                                 |
| `Shift+Tab`                | 前一个标注对象                                 |
| `<number>`                 | 为当前属性指定相应的值                         |